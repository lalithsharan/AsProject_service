<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout">

<head>
<title>Clinic Booking</title>
<script type="text/javascript" src="resources/custom/jquery-1.11.3.js"></script>
<script type="text/javascript" src="resources/custom/lakshman.js"></script>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>


<style>
.col-md-offset-3 {
	margin-left: 10%;
}

.col-md-2 img:hover {
	opacity: .5;
}

.myButton {
	padding: 10px 16px;
	margin-left: 10%;
	margin-bottom: 2%;
}
</style>
<script>
	$(function() {
		var speciality = 'not set';
		var location = 'not set';

		console.log(speciality);

		$(".clinicspeciality").click(function() {
			speciality = $(this).context.id;
			console.log(speciality);
		});

		$("#clinicSearchBtn").click(
				function() {
					console.log("In search btn click ");
					console.log(speciality);
					location = $("#location").val();
					console.log(location);

					console.log("sending ajax req");
					$.ajax({
						url : "api/clinics",
						data : {
							"speciality" : speciality,
							"location" : location
						},
						success : function(result) {
							console.log(result);
							if (result.status == "OK") {
								$('#displayArea').html('');
								if (result.clinics.length == 0) {
									$('#displayArea').append(
											'<center><h3 class="style-heading" >No records to display for '
													+ speciality + ' in '
													+ location
													+ ' </h3></center>');
								}
								$.each(result.clinics, function(index, item) {

									var htmlContent = '<div class="col-md-4">';
									htmlContent = htmlContent
											+ '<h3 class="style-heading">'
											+ item.clinicName + "</h3>";
									htmlContent = htmlContent + "<p>"
											+ item.clinicDesc + "</p>";
									htmlContent = htmlContent + "<p>"
											+ item.clinicAddress + "</p>";
									htmlContent = htmlContent + "<p>"
											+ item.clinicPhones + "</p>";

									console.log(index + " => "
											+ item.clinicName);
									htmlContent = htmlContent + "</div>";
									$('#displayArea').append(htmlContent);
								});
							}
							document.getElementById("location").value = "";
						}
					});
					console.log("ajax req sent");

				});

	});
</script>

</head>

<body>
	<section layout:fragment="content">
		<div class="row">
			<div class="col-md-8 col-md-offset-3 col-sm-8 col-sm-offset-2">

				<div>
					<h2>Clinic Booking</h2>
				</div>

			</div>

		</div>

		<div class="row">

			<div class="col-md-2">
				<div class="row top-buffer" align="center">

					<img id="Gynecolagist" class="clinicspeciality"
						style="width: 60px; height: 60px;"
						th:src="@{/resources/img/gynecolagist.jpg}" /> <br />
					Gynecolagist
				</div>
			</div>


			<div class="col-md-2">
				<div class="row top-buffer" align="center">

					<img id="Pediatrician" class="clinicspeciality"
						style="width: 60px; height: 60px;"
						th:src="@{/resources/img/pediatrician.jpg}" /> <br />
					Pediatrician
				</div>
			</div>




			<div class="col-md-2">
				<div class="row top-buffer" align="center">
					<img id="Orthopaedician" class="clinicspeciality"
						style="width: 60px; height: 60px;"
						th:src="@{/resources/img/ortho.jpg}" /> <br /> Orthopaedician

				</div>
			</div>







			<div class="col-md-2">
				<div class="row top-buffer" align="center">
					<img id="Ent Surgeon" class="clinicspeciality"
						style="width: 60px; height: 60px;"
						th:src="@{/resources/img/ent.jpg}" /> <br /> Ent Surgeon


				</div>
			</div>

			<div class="col-md-2">
				<div class="row top-buffer" align="center">
					<img id="Cardiologist" class="clinicspeciality"
						style="width: 60px; height: 60px;"
						th:src="@{/resources/img/heart.jpg}" /> <br /> Cardiologist

				</div>
			</div>


			<div class="col-md-2">
				<div class="row top-buffer" align="center">
					<img id="Endocrinologist" class="clinicspeciality"
						style="width: 60px; height: 60px;"
						th:src="@{/resources/img/endo.jpg}" /> <br /> Endocrinologist

				</div>
			</div>
		</div>


		<div class="row">





			<div class="col-md-2">
				<div class="row top-buffer" align="center">
					<img id="Nephrologist" class="clinicspeciality"
						style="width: 60px; height: 60px;"
						th:src="@{/resources/img/nef.jpg}" /> <br /> Nephrologist

				</div>
			</div>

			<div class="col-md-2">
				<div class="row top-buffer" align="center">
					<img id="Neurosurgeon" class="clinicspeciality"
						style="width: 60px; height: 60px;"
						th:src="@{/resources/img/neura.gif}" /> <br /> Neurosurgeon

				</div>
			</div>

			<div class="col-md-2">
				<div class="row top-buffer" align="center">
					<img id="Neuro Physician" class="clinicspeciality"
						style="width: 60px; height: 60px;"
						th:src="@{/resources/img/physician.jpg}" /> <br /> Neuro
					Physician

				</div>
			</div>

		</div>




		<br /> <br />

		<!--	<div id="loc">
			<span> <strong>Location:</strong>
			</span> <input id="location" class="btn btn-default round-squre" /> <a
				href="#" id="clinicSearchBtn" class="myButton">SEARCH</a>
		</div>  -->

		<div class="row">
			<div class="col-md-12">
				<center>
					<div class="input-group col-md-2 pull-center">


						<input id="location" type="text" class="form-control"
							placeholder="Location..." name="srch-term" /> <span
							class="input-group-btn">
							<button id="clinicSearchBtn" class="btn btn-warning"
								type="button">
								<i class="glyphicon glyphicon-search"></i>
							</button>
						</span>

					</div>
				</center>
			</div>
		</div>





		<br /> <br />









		<div class="row">
			<div id="displayArea"></div>
		</div>

	</section>
</body>
</html>